"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getLastPerformanceEvent = exports.getLastSessionStartEvent = exports.getLastPageViewEndEvent = exports.getLastPageViewEvent = exports.getLastEvent = void 0;
function getLastEvent(requests, eventName) {
    for (let ii = requests.length - 1; ii >= 0; ii--) {
        const req = requests[ii];
        if (req['events']) {
            for (let jj = req['events'].length - 1; jj >= 0; jj--) {
                const evt = req['events'][jj];
                if (evt.eventName === eventName) {
                    return evt;
                }
            }
        }
    }
    return {};
}
exports.getLastEvent = getLastEvent;
function getLastPageViewEvent(requests) {
    return getLastEvent(requests, 'auto_capture::page_view');
}
exports.getLastPageViewEvent = getLastPageViewEvent;
function getLastPageViewEndEvent(requests) {
    return getLastEvent(requests, 'auto_capture::page_view_end');
}
exports.getLastPageViewEndEvent = getLastPageViewEndEvent;
function getLastSessionStartEvent(requests) {
    return getLastEvent(requests, 'auto_capture::session_start');
}
exports.getLastSessionStartEvent = getLastSessionStartEvent;
function getLastPerformanceEvent(requests) {
    return getLastEvent(requests, 'auto_capture::performance');
}
exports.getLastPerformanceEvent = getLastPerformanceEvent;
